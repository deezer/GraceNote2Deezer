<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_27) on Mon Jan 06 13:48:31 CET 2014 -->
<title>DeezerConnect</title>
<meta name="date" content="2014-01-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DeezerConnect";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<p class="subTitle">com.deezer.sdk.network.connect</p>
<h2 title="Class DeezerConnect" class="title">Class DeezerConnect</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.deezer.sdk.network.connect.DeezerConnect</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <strong>DeezerConnect</strong>
extends java.lang.Object</pre>
<div class="block">Provides methods to connect and logout a user, ease requests using the Deezer API.
 Authentication is provided via OAuth.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Deezer</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="http://www.deezer.com/fr/developers/simpleapi/">Deezer SDK docs</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#DeezerConnect(android.content.Context, java.lang.String)">DeezerConnect</a></strong>(android.content.Context&nbsp;context,
             java.lang.String&nbsp;appId)</code>
<div class="block">Constructor for DeezerConnectInterface object that will give access to free Radio.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#DeezerConnect(java.lang.String)">DeezerConnect</a></strong>(java.lang.String&nbsp;appId)</code>
<div class="block">Constructor for DeezerConnectInterface object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#authorize(android.app.Activity, java.lang.String[], com.deezer.sdk.network.connect.event.DialogListener)">authorize</a></strong>(android.app.Activity&nbsp;activity,
         java.lang.String[]&nbsp;permissions,
         <a href="../../../../../com/deezer/sdk/network/connect/event/DialogListener.html" title="interface in com.deezer.sdk.network.connect.event">DialogListener</a>&nbsp;listener)</code>
<div class="block">Asynchronous authorize method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#getAccessExpires()">getAccessExpires</a></strong>()</code>
<div class="block">Retrieve the current session's expiration time (in milliseconds since
 Unix epoch), or 0 if the session doesn't expire or doesn't exist.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#getAccessToken()">getAccessToken</a></strong>()</code>
<div class="block">Retrieve the OAuth 2.0 access token for API access: treat with care.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#getAppId()">getAppId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#getImei()">getImei</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#getRadioToken()">getRadioToken</a></strong>()</code>
<div class="block">Retrieve the radio token for API access: treat with care.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#isSessionValid()">isSessionValid</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#logout(android.app.Activity)">logout</a></strong>(android.app.Activity&nbsp;context)</code>
<div class="block">Invalidate the current user session by removing the access token in
 memory, clearing the browser cookie.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#requestAsync(com.deezer.sdk.network.request.DeezerRequest, com.deezer.sdk.network.request.event.RequestListener)">requestAsync</a></strong>(<a href="../../../../../com/deezer/sdk/network/request/DeezerRequest.html" title="class in com.deezer.sdk.network.request">DeezerRequest</a>&nbsp;request,
            <a href="../../../../../com/deezer/sdk/network/request/event/RequestListener.html" title="interface in com.deezer.sdk.network.request.event">RequestListener</a>&nbsp;listener)</code>
<div class="block">Make a request to the Deezer API, asynchronously.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#requestSync(com.deezer.sdk.network.request.DeezerRequest)">requestSync</a></strong>(<a href="../../../../../com/deezer/sdk/network/request/DeezerRequest.html" title="class in com.deezer.sdk.network.request">DeezerRequest</a>&nbsp;request)</code>
<div class="block">Make a request to the Deezer API, synchronously.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#setAccessExpires(long)">setAccessExpires</a></strong>(long&nbsp;time)</code>
<div class="block">Set the current session's expiration time (in milliseconds since Unix
 epoch), or 0 if the session doesn't expire.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#setAccessExpiresIn(java.lang.String)">setAccessExpiresIn</a></strong>(java.lang.String&nbsp;expiresIn)</code>
<div class="block">Set the current session's duration (in seconds since Unix epoch).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/deezer/sdk/network/connect/DeezerConnect.html#setAccessToken(android.content.Context, java.lang.String)">setAccessToken</a></strong>(android.content.Context&nbsp;context,
              java.lang.String&nbsp;token)</code>
<div class="block">Set the OAuth 2.0 access token for API access.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DeezerConnect(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DeezerConnect</h4>
<pre>public&nbsp;DeezerConnect(java.lang.String&nbsp;appId)</pre>
<div class="block">Constructor for DeezerConnectInterface object.
 If you want an access to unlogged radios, please use the other constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>appId</code> - App Id by Deezer during developper registration.</dd><dd><code>activity</code> - current context of the application</dd></dl>
</li>
</ul>
<a name="DeezerConnect(android.content.Context, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DeezerConnect</h4>
<pre>public&nbsp;DeezerConnect(android.content.Context&nbsp;context,
             java.lang.String&nbsp;appId)</pre>
<div class="block">Constructor for DeezerConnectInterface object that will give access to free Radio.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>appId</code> - App Id by Deezer during developper registration.</dd><dd><code>context</code> - current context of the application</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="authorize(android.app.Activity, java.lang.String[], com.deezer.sdk.network.connect.event.DialogListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authorize</h4>
<pre>public&nbsp;void&nbsp;authorize(android.app.Activity&nbsp;activity,
             java.lang.String[]&nbsp;permissions,
             <a href="../../../../../com/deezer/sdk/network/connect/event/DialogListener.html" title="interface in com.deezer.sdk.network.connect.event">DialogListener</a>&nbsp;listener)</pre>
<div class="block">Asynchronous authorize method.
 
 <p>
 Starts a dialog which prompts the user to log in to Deezer and grant the requested
 permissions to the given application.
 </p>
 <p>
 This method implements the OAuth 2.0 User-Agent flow. In this flow, the user credentials are
 handled by Deezer in an embedded WebView, not by the client application. As such, the dialog
 makes a network request and renders HTML content rather than a native UI. The access token is
 retrieved from a redirect to a special URL that the WebView handles.
 </p>
 
 <p>
 Note that User credentials could be handled natively using the OAuth 2.0 Username and
 Password Flow, but this is not supported by this SDK.
 </p>
 <p>
 See <a href="http://wiki.oauth.net/OAuth-2">http://wiki.oauth.net/OAuth-2</a> for more
 details.
 </p>
 <p>
 Note that this method is asynchronous and the callback will be invoked in the original
 calling thread (not in a background thread).
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>activity</code> - The Android activity in which we want to display the
            authorization dialog.</dd><dd><code>permissions</code> - A list of permissions required for this application: e.g.
            "read_stream", "publish_stream", "offline_access", etc. see
            http://www.deezer.com/fr/developers/simpleapi/permissions
            This parameter should not be null -- if you do not require any
            permissions, then pass in an empty String array.</dd><dd><code>listener</code> - Callback interface for notifying the calling application when
            the authentication dialog has completed, failed, or been
            canceled.</dd></dl>
</li>
</ul>
<a name="logout(android.app.Activity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout(android.app.Activity&nbsp;context)</pre>
<div class="block">Invalidate the current user session by removing the access token in
 memory, clearing the browser cookie.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>activity</code> - The Android activity in which the logout should be called: it
            should be the same context in which the login occurred in
            order to clear any stored cookies</dd></dl>
</li>
</ul>
<a name="requestSync(com.deezer.sdk.network.request.DeezerRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestSync</h4>
<pre>public&nbsp;java.lang.String&nbsp;requestSync(<a href="../../../../../com/deezer/sdk/network/request/DeezerRequest.html" title="class in com.deezer.sdk.network.request">DeezerRequest</a>&nbsp;request)
                             throws java.net.MalformedURLException,
                                    java.io.IOException,
                                    <a href="../../../../../com/deezer/sdk/network/request/event/DeezerError.html" title="class in com.deezer.sdk.network.request.event">DeezerError</a>,
                                    <a href="../../../../../com/deezer/sdk/network/request/event/OAuthException.html" title="class in com.deezer.sdk.network.request.event">OAuthException</a></pre>
<div class="block">Make a request to the Deezer API, synchronously.
 
 <p>
 Note that this method blocks waiting for a network response, so do not call it in a UI
 thread.
 </p>
 <p>
 Also, please note that this method is intented to provide support for any kind of requests.
 Nevertheless, in the case of a request with json as output format, this method will trigger
 exceptions if the server's answer includes an error.
 </p>
 <p>
 For other formats such as Xml or Php, the method doesn't parse the result. Hence, if a
 DeezerError occurs (such as an authorization problem), it will return a normal response and
 won't throw any exception. A developer will have to parse it to distinguish success from
 failures.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - the request to Deezer Api.</dd>
<dt><span class="strong">Returns:</span></dt><dd>JSON string representation of the response</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if a connection to Deezer Web Services can't be established.</dd>
<dd><code>java.net.MalformedURLException</code> - if the request's deezerServicePath is malformed.</dd>
<dd><code><a href="../../../../../com/deezer/sdk/network/request/event/DeezerError.html" title="class in com.deezer.sdk.network.request.event">DeezerError</a></code></dd>
<dd><code><a href="../../../../../com/deezer/sdk/network/request/event/OAuthException.html" title="class in com.deezer.sdk.network.request.event">OAuthException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://developers.deezer.com/api">Deezer API documentation</a></dd></dl>
</li>
</ul>
<a name="requestAsync(com.deezer.sdk.network.request.DeezerRequest, com.deezer.sdk.network.request.event.RequestListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestAsync</h4>
<pre>public&nbsp;void&nbsp;requestAsync(<a href="../../../../../com/deezer/sdk/network/request/DeezerRequest.html" title="class in com.deezer.sdk.network.request">DeezerRequest</a>&nbsp;request,
                <a href="../../../../../com/deezer/sdk/network/request/event/RequestListener.html" title="interface in com.deezer.sdk.network.request.event">RequestListener</a>&nbsp;listener)</pre>
<div class="block">Make a request to the Deezer API, asynchronously.
 
 Note that this method blocks waiting for a network response, so do not
 call it in a UI thread.
 Also, please note that this method is intented to provide support for any kind of requests.
 As we can't assume the format of responses (xml, json, etc), the method doesn't parse the
 result.
 Hence, if a DeezerError occurs (such as an authorization problem), it will call back the
 onComplete method
 of the RequestListener. A developer will have to parse it to distinguish success from
 failures (one can use Util.parseJson for that).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - the request to Deezer Api.</dd><dd><code>listener</code> - the listener that will receive the callback when request completes (successfully
            or not).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if a connection to Deezer Web Services can't be established.</dd>
<dd><code>java.net.MalformedURLException</code> - if the request's deezerServicePath is malformed.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://developers.deezer.com/api">Deezer API documentation</a></dd></dl>
</li>
</ul>
<a name="isSessionValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSessionValid</h4>
<pre>public&nbsp;boolean&nbsp;isSessionValid()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>boolean - whether this object has an non-expired session token.</dd></dl>
</li>
</ul>
<a name="getAccessToken()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccessToken</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAccessToken()</pre>
<div class="block">Retrieve the OAuth 2.0 access token for API access: treat with care.
 Returns null if no session exists.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String - access token</dd></dl>
</li>
</ul>
<a name="getRadioToken()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRadioToken</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRadioToken()</pre>
<div class="block">Retrieve the radio token for API access: treat with care.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String - radio token</dd></dl>
</li>
</ul>
<a name="getAccessExpires()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccessExpires</h4>
<pre>public&nbsp;long&nbsp;getAccessExpires()</pre>
<div class="block">Retrieve the current session's expiration time (in milliseconds since
 Unix epoch), or 0 if the session doesn't expire or doesn't exist.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>long - session expiration time</dd></dl>
</li>
</ul>
<a name="setAccessToken(android.content.Context, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccessToken</h4>
<pre>public&nbsp;void&nbsp;setAccessToken(android.content.Context&nbsp;context,
                  java.lang.String&nbsp;token)</pre>
<div class="block">Set the OAuth 2.0 access token for API access.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - the context in which the Deezerconnect instance is to be used.</dd><dd><code>token</code> - access token</dd></dl>
</li>
</ul>
<a name="setAccessExpires(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccessExpires</h4>
<pre>public&nbsp;void&nbsp;setAccessExpires(long&nbsp;time)</pre>
<div class="block">Set the current session's expiration time (in milliseconds since Unix
 epoch), or 0 if the session doesn't expire.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>time</code> - timestamp in milliseconds</dd></dl>
</li>
</ul>
<a name="setAccessExpiresIn(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccessExpiresIn</h4>
<pre>public&nbsp;void&nbsp;setAccessExpiresIn(java.lang.String&nbsp;expiresIn)</pre>
<div class="block">Set the current session's duration (in seconds since Unix epoch).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expiresIn</code> - duration in seconds</dd></dl>
</li>
</ul>
<a name="getAppId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAppId</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAppId()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the appId used to connect to Deezer services.</dd></dl>
</li>
</ul>
<a name="getImei()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getImei</h4>
<pre>public&nbsp;java.lang.String&nbsp;getImei()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the imei token to use with api calls</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
